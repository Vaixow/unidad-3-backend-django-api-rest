<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Contactos</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">

<div class="max-w-3xl mx-auto py-10">

    <div class="flex justify-between mb-4">
        <h1 class="text-3xl font-bold text-blue-700">Contactos</h1>
        <button id="logoutBtn" class="bg-red-500 text-white px-3 py-1 rounded">Salir</button>
    </div>

    <div class="mb-4 text-right">
        <a href="crear.html" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
            Agregar
        </a>
    </div>

    <div id="lista"></div>
</div>

<script type="module">
import { obtenerContactos } from "./js/contactos.js";
import { logout } from "./js/auth.js";

document.getElementById("logoutBtn").onclick = logout;

async function cargar() {
    const contactos = await obtenerContactos();

    let html = `
        <div class="bg-white shadow rounded overflow-hidden">
        <table class="w-full">
            <thead class="bg-blue-100">
                <tr>
                    <th class="px-4 py-2 text-left">Nombre</th>
                    <th class="px-4 py-2">Tel√©fono</th>
                    <th class="px-4 py-2">Correo</th>
                    <th class="px-4 py-2">Acciones</th>
                </tr>
            </thead>
            <tbody>
    `;

    contactos.forEach(c => {
        html += `
            <tr class="border-b">
                <td class="px-4 py-2">${c.nombre}</td>
                <td class="px-4 py-2">${c.telefono}</td>
                <td class="px-4 py-2">${c.correo}</td>
                <td class="px-4 py-2 flex gap-2">
                    <a href="editar.html?id=${c.id}" class="bg-yellow-500 px-2 py-1 text-white rounded">Editar</a>
                    <a href="#" onclick="eliminar(${c.id})" class="bg-red-600 px-2 py-1 text-white rounded">Eliminar</a>
                </td>
            </tr>
        `;
    });

    html += `</tbody></table></div>`;
    document.getElementById("lista").innerHTML = html;
}

cargar();
</script>
</body>
</html>
